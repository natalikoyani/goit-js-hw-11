function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){a[e]=n},n.parcelRequired7c6=r);var o=r("2shzp"),i=r("iQIUW"),s=r("fZKcF");const l=document.querySelector("#search-form"),c=document.querySelector(".gallery"),f=document.querySelector(".js-guard");let d=1,u=new(e(s))(".gallery a",{captionDelay:250});const p=new IntersectionObserver((async function(e){e.forEach((async e=>{if(e.isIntersecting){d+=1;const e=l.elements.searchQuery.value.replaceAll(" ","+");try{const n=await y(e);c.insertAdjacentHTML("beforeend",h(n.hits));const t=Math.ceil(n.totalHits/40);d>=t&&p.unobserve(elements.guard)}catch(e){console.error(e),i.Notify.failure("An error occurred while fetching more images. Please try again later.")}}}))}),{rootMargin:"300px"});async function y(e){const n=new URLSearchParams({key:"39228988-9f38d0df7f0bcbddd9d36da69",q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:d});return(await o.default.get(`https://pixabay.com/api/?${n}`)).data}function h(e){return e.map((({largeImageURL:e,webformatURL:n,tags:t,likes:a,views:r,comments:o,downloads:i})=>`<div class="photo-card">\n        <a href="${e}"><img src="${n}" alt="${t}" loading="lazy"/></a>\n        <div class="info">\n          <p class="info-item">\n            <b>Likes <span class="info-span">${a}</span></b>\n          </p>\n          <p class="info-item">\n            <b>Views <span class="info-span">${r}</span></b>\n          </p>\n          <p class="info-item">\n            <b>Comments <span class="info-span">${o}</span></b>\n          </p>\n          <p class="info-item">\n            <b>Downloads <span class="info-span">${i}</span></b>\n          </p>\n        </div>\n      </div>`)).join("")}l.addEventListener("submit",(async function(e){e.preventDefault(),c.innerHTML="",d=1;const n=l.elements.searchQuery.value.trim().replaceAll(" ","+").trim();try{const e=await y(n);if(0===e.hits.length)i.Notify.failure("Sorry, there are no images matching your search query. Please try again.");else if(""===n)i.Notify.failure("Search field can't be empty!");else{i.Notify.info(`Hooray! We found ${e.totalHits} images.`),c.innerHTML=h(e.hits),u.refresh(),function(){const{height:e}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();window.scrollBy({top:2*e,behavior:"smooth"})}();const n=Math.ceil(e.totalHits/40);d<n&&p.observe(f)}}catch(e){console.error(e),i.Notify.failure("An error occurred while fetching images. Please try again later.")}}));
//# sourceMappingURL=infinity_scroll.a75b98b6.js.map
