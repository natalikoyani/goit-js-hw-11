!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){r[e]=n},n.parcelRequired7c6=a);var o=a("bpxeT"),i=a("2TvXO"),s=a("dIxxU"),c=a("h6c0i"),l=a("5IjG7"),u=document.querySelector("#search-form"),f=document.querySelector(".gallery"),p=document.querySelector(".load-more"),d="https://pixabay.com/api/",h="39228988-9f38d0df7f0bcbddd9d36da69",y=1,m=new(e(l))(".gallery a",{captionDelay:250});function g(){return(g=e(o)(e(i).mark((function n(t){var r,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),f.innerHTML="",p.classList.add("is-hidden"),y=1,r=u.elements.searchQuery.value.trim().replaceAll(" ","+"),e.prev=5,e.next=8,b(r);case 8:0===(a=e.sent).hits.length?c.Notify.failure("Sorry, there are no images matching your search query. Please try again."):""===r?c.Notify.failure("Search field can't be empty!"):(c.Notify.info("Hooray! We found ".concat(a.totalHits," images.")),f.innerHTML=x(a.hits),m.refresh(),L(),p.classList.remove("is-hidden")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error(e.t0),c.Notify.failure("An error occurred while fetching images. Please try again later.");case 16:case"end":return e.stop()}}),n,null,[[5,12]])})))).apply(this,arguments)}function v(){return(v=e(o)(e(i).mark((function n(){var t,r,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y+=1,t=u.elements.searchQuery.value.replaceAll(" ","+"),e.prev=2,e.next=5,b(t);case 5:r=e.sent,a=Math.ceil(r.totalHits/40),f.insertAdjacentHTML("beforeend",x(r.hits)),L(),y>=a&&(p.classList.add("is-hidden"),c.Notify.info("We're sorry, but you've reached the end of search results.")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0),c.Notify.failure("An error occurred while fetching more images. Please try again later.");case 16:case"end":return e.stop()}}),n,null,[[2,12]])})))).apply(this,arguments)}function b(e){return w.apply(this,arguments)}function w(){return(w=e(o)(e(i).mark((function n(t){var r,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({key:h,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:y}),e.next=3,s.default.get("".concat(d,"?").concat(r));case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function x(e){return e.map((function(e){var n=e.largeImageURL,t=e.webformatURL,r=e.tags,a=e.likes,o=e.views,i=e.comments,s=e.downloads;return'<div class="photo-card">\n        <a href="'.concat(n,'"><img src="').concat(t,'" alt="').concat(r,'" loading="lazy"/></a>\n        <div class="info">\n          <p class="info-item">\n            <b>Likes <span class="info-span">').concat(a,'</span></b>\n          </p>\n          <p class="info-item">\n            <b>Views <span class="info-span">').concat(o,'</span></b>\n          </p>\n          <p class="info-item">\n            <b>Comments <span class="info-span">').concat(i,'</span></b>\n          </p>\n          <p class="info-item">\n            <b>Downloads <span class="info-span">').concat(s,"</span></b>\n          </p>\n        </div>\n      </div>")})).join("")}function L(){var e=document.querySelector(".gallery").firstElementChild.getBoundingClientRect().height;window.scrollBy({top:2*e,behavior:"smooth"})}u.addEventListener("submit",(function(e){return g.apply(this,arguments)})),p.addEventListener("click",(function(){return v.apply(this,arguments)}))}();
//# sourceMappingURL=load_more_button.68f67e23.js.map
