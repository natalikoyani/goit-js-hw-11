function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},t={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in t){var n=t[e];delete t[e];var r={id:e,exports:{}};return a[e]=r,n.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){t[e]=n},n.parcelRequired7c6=r);var i=r("2shzp"),o=r("iQIUW"),s=r("fZKcF");const l=document.querySelector("#search-form"),c=document.querySelector(".gallery"),d=document.querySelector(".load-more");let f=1,u=new(e(s))(".gallery a",{captionDelay:250});async function p(e){const n=new URLSearchParams({key:"39228988-9f38d0df7f0bcbddd9d36da69",q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:f});return(await i.default.get(`https://pixabay.com/api/?${n}`)).data}function h(e){return e.map((({largeImageURL:e,webformatURL:n,tags:a,likes:t,views:r,comments:i,downloads:o})=>`<div class="photo-card">\n        <a href="${e}"><img src="${n}" alt="${a}" loading="lazy"/></a>\n        <div class="info">\n          <p class="info-item">\n            <b>Likes <span class="info-span">${t}</span></b>\n          </p>\n          <p class="info-item">\n            <b>Views <span class="info-span">${r}</span></b>\n          </p>\n          <p class="info-item">\n            <b>Comments <span class="info-span">${i}</span></b>\n          </p>\n          <p class="info-item">\n            <b>Downloads <span class="info-span">${o}</span></b>\n          </p>\n        </div>\n      </div>`)).join("")}function y(){const{height:e}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();window.scrollBy({top:2*e,behavior:"smooth"})}l.addEventListener("submit",(async function(e){e.preventDefault(),c.innerHTML="",d.classList.add("is-hidden"),f=1;const n=l.elements.searchQuery.value.trim().replaceAll(" ","+").trim();try{const e=await p(n);0===e.hits.length?o.Notify.failure("Sorry, there are no images matching your search query. Please try again."):""===n?o.Notify.failure("Search field can't be empty!"):(o.Notify.info(`Hooray! We found ${e.totalHits} images.`),c.innerHTML=h(e.hits),u.refresh(),y(),d.classList.remove("is-hidden"))}catch(e){console.error(e),o.Notify.failure("An error occurred while fetching images. Please try again later.")}})),d.addEventListener("click",(async function(){f+=1;const e=l.elements.searchQuery.value.replaceAll(" ","+");try{const n=await p(e),a=Math.ceil(n.totalHits/40);c.insertAdjacentHTML("beforeend",h(n.hits)),y(),f>=a&&(d.classList.add("is-hidden"),o.Notify.info("We're sorry, but you've reached the end of search results."))}catch(e){console.error(e),o.Notify.failure("An error occurred while fetching more images. Please try again later.")}}));
//# sourceMappingURL=load_more_button.9106a0dd.js.map
